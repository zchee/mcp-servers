{
  "id": "10161",
  "year": "2023",
  "url": "https://developer.apple.com/videos/play/wwdc2023/10161/",
  "title": "Inspectors in SwiftUI: Discover the details",
  "speakers": [],
  "duration": "",
  "topics": [
    "Essentials"
  ],
  "hasTranscript": true,
  "hasCode": true,
  "transcript": {
    "fullText": "â™ª â™ª Nick: Hi, I'm Nick, an engineer on the SwiftUI team. Inspector is an exciting new element in SwiftUI. I'll go over what an inspector is and how to use the API. After that, I'll review modifiers for presentation customizations. Inspector is the name for views that show further detail of selected content. You have probably interacted with one before. Keynote uses an inspector to show formatting details for a selection, in this case, the shape formatter. Here the inspector presents as a trailing sidebar. Another common use case for inspectors is showing content that supplements an app's main content. Shortcuts uses inspector for this purpose. The main interface is the shortcut that the user is editing, and the inspector supplements that with the library of available apps and actions. I will be using this sample app to explore the inspector API. I've been getting to know the animals in and around Apple Park. This app saves the animals I've met, tracks their name, tracks their favorite fruits, and there's this column that I'll get to later labeled \"Suspicion Level.\" And now, meet, SwiftUI's inspector! The inspector shows a read-write view of details about the selected animal. Here I'm adjusting Fabrizio Fish's suspicion level up to \"Extremely suspicious.\" Actually I'll keep him at fishy. Inspector is available to SwiftUI Developers on macOS and iPadOS and iOS too! The inspector API includes programmatic control over column width, allowing you to tune the width of the trailing column. The API includes programmatic control over presented state, allowing hiding and showing of the inspector as needed. Inspector is a higher level abstraction than just a trailing sidebar. In compact size classes, it adapts to a resizable sheet and inspector will automatically overlay in split screen on larger iPads. SwiftUI already has an existing set of structural APIs. Inspector fits in alongside these APIs with characteristics of both navigation components and presentations. Similar to NavigationSplitView and NavigationStack, inspector is used to build the scaffolding of your scene. Similar to Sheet, popover, alert, and confirmation dialogs, inspector is a presentation, dismissing and presenting as needed. It's time to learn how to adopt the new inspector API. Earlier, I showed off the sample app I made for this session. You may have noticed I was tracking each animal's suspicion level. That's because I am trying to solve a high-stakes mystery. Someone is eating all the fruit at Apple Park! I added inspector to my app so that I, Inspector Nick, can gather the details of each animal. I'll show you how easy it was to adopt the inspector API, and maybe I can solve this fruity mystery along the way. Quickly, to Xcode! The game is a-fruit! The first step to adding inspector is using the new modifier, inspector. Like some other presentations, this takes a Bool presented binding, and then the inspector's content in the trailing view builder. For the inspector content, I have a ready made AnimalInspectorForm. I have some custom methods for passing in the animal currently being inspected. And there's my inspector, presenting as a trailing column here on macOS. I have planted the seeds of a wonderful inspector experience. This AnimalForm is using the grouped style. In case you haven't encountered form styles before, they're applied like this. But because inspector contexts use the grouped style by default, I don't need to style it myself. I can even interact with the inspector in the preview's canvas. Ah, this reminds me, while inspectors can collapse by default, they aren't resizable by default. I can change that using the inspector column width modifier. I'll use some sensible defaults. 200 for min, 300 for ideal, and 400 for max. This ideal parameter will be the size of the column at at first launch, but if the user resizes the inspector, the system will persist that size across launches. Lastly, I'll add a toolbar item to toggle the presented state. I'll use a button that toggles the presented property, and for its label, a Label, using the info.circle system image. The toolbar item will appear in the section of the toolbar above the inspector because it's declared within the inspector's view builder. When I scroll, the toolbar behaves exactly like I'd expect, showing a shadow pocket when enough of the content is underneath the toolbar.\n\nI used the inspector modifier on the AnimalTable intentionally, rather than some other spot in the view hierarchy. Like many SwiftUI APIs, the inspector modifier has different behaviors depending on the context of where it is applied. Specifically, the placement decides whether the full height style is used, where there is no separation between toolbar and content, or the under toolbar style is used, where the inspector is nested under the toolbar. Notice the title separator spans the full width of the window in the under toolbar appearance. Similarly, toolbar content will be placed in the main content's toolbar... or in the inspector's toolbar, depending on where the toolbar modifier is used. There are two points to consider when using the inspector API. First, is the inspector going to be placed inside or outside of a navigation structure like a NavigationStack or NavigationSplitView? Second, should the toolbar content be inside or outside of the inspector's view builder? I'll walk through two of these constructions. First up, placing inspector inside a navigation structure, with toolbar content outside the inspector. When an inspector is contained within a NavigationStack, the inspector is underneath the navigation stack's toolbar. Here, the toolbar content is declared outside of the inspector on the main content and is rendered in the navigation stack's toolbar. In compact horizontal size classes, the inspector presents as a sheet and the toolbar item stays in the main content's toolbar. Back to my table of possibilities. For the second construction, I'll look at placing the inspector outside of a navigation structure, with toolbar content inside the inspector view builder. When the inspector modifier is placed outside of a navigation structure, the inspector is given the full height of the trailing column to lay out. If the inspector has toolbar content, that content will be placed in a toolbar section specifically for the inspector. These two toolbar items are positioned with the principal placement and end up centered in the navigation toolbar above the inspector. This time, however, because the toolbar content is inside the inspector's view builder, when the inspector presents as a sheet, the toolbar content is in the sheet.\n\nThese principles extend to macOS, except inspector does not present as a sheet on macOS, and so the table becomes simpler. The only axis to worry about is inside or outside a navigation structure. A final, but important note: If you are using an inspector within a NavigationSplitView, the inspector should be placed in the detail column's view builder, or, just like before, it can also be placed entirely outside the navigation structure. Wow, all of this mystery solving is making me hungry!  Oh! I'm getting a Nibble Bulletin in the app! The app shows Nibble Bulletins as resizable sheets with some information about where and when the fruit was nibbled. This is a great time for me to talk about presentation customizations SwiftUI released with iOS 16.4. The fruit nibble bulletin is a sheet, not an inspector. Presentation modifiers allow deep customization of sheets and other presentations like popovers. I'll try a few of them out. The presentation background modifier is aptly named. It will set the background of a presentation. Unlike the existing background modifier, the presentation specific modifier will fill the entire presentation and allow underlying content to show through. So, if I use a thinMaterial, I'll see a hint of the List behind the sheet. I'd like to allow interaction with content behind the sheet, in case I want to scroll the list, and look at suspects while reading the Nibble Bulletin. This is as simple as presentationBackgroundInteraction enabled. The dimming view is removed and I can now interact with the background content. The PresentationBackgroundInteraction type can also have an upThrough parameter accepting a presentation detent. As long as the provided argument matches one of the given presentation's detents, SwiftUI will only provide the dimming view at detents greater than the upThrough argument. I want dimming at any detent above a height of 200, so I will first add a height detent of 200 using the presentationDetents modifier. I'll adjust the sheet from its current detent of medium... down to my custom height of 200. When I only enable background interaction up through 200, the dimming view will return for the medium and large detents. There are more customizations available to you to get the perfect look and feel for presentations. Many of these modifiers have effects on other presentations too, not just sheets. And one more thing about presentation modifiers. Those same modifiers compose with Inspector when Inspector is presenting as a sheet. For my inspector from earlier, to disable background content interaction at the medium detent, I can use the same exact code from before... declaring a height detent, and only enabling background interaction up through the same detent. Now the inspector dims at the medium detent and higher. And that's inspectors in SwiftUI. In this video, I introduced the inspector API and the nuances of using it. I picked some of my favorite sheet presentation modifiers to demonstrate, and showed how they can compose with inspectors. So what are you waiting for? Go out and get inspecting. Place the inspector somewhere in your app. Keep it going by customizing your presentations. And as for the nibbler, I guess our efforts to solve this mystery were fruitless. â™ª â™ª",
    "segments": []
  },
  "codeExamples": [
    {
      "timestamp": "3:35",
      "title": "Sample models and views",
      "language": "swift",
      "code": "// Copy+Paste the below into an Xcode project to support building and running the session's code snippets\n\nimport SwiftUI\n\n@main\nstruct SwiftUIInspectors: App {\n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n                .environmentObject(AnimalStore())\n        }\n    }\n}\n\nstruct AnimalInspectorForm: View {\n    var animal: Binding<Animal>?\n    @EnvironmentObject private var animalStore: AnimalStore\n\n    var body: some View {\n        Form {\n            if let animal = animal {\n                SelectedAnimalInspector(animal: animal, animalStore: animalStore)\n            } else {\n                ContentUnavailableView {\n                    Image(systemName: \"magnifyingglass.circle\")\n                } description: {\n                    Text(\"Select a suspect to inspect\")\n                } actions: {\n                    Text(\"Fill out details from the interview\")\n                }\n            }\n        }\n        #if os(iOS)\n        .navigationBarTitleDisplayMode(.inline)\n        #endif\n    }\n}\n\nstruct SelectedAnimalInspector: View {\n    @Binding var animal: Animal\n    @ObservedObject var animalStore: AnimalStore\n\n    var body: some View {\n            Section(\"Identity\") {\n                TextField(\"Name\", text: $animal.name)\n                Picker(\"Paw Size\", selection: $animal.pawSize) {\n                    Text(\"Small\").tag(PawSize.small)\n                    Text(\"Medium\").tag(PawSize.medium)\n                    Text(\"Large\").tag(PawSize.large)\n                }\n                FruitList(selectedFruits: $animal.favoriteFruits, fruits: allFruits)\n            }\n\n            Section {\n                TextField(text: animalStore(\\.alibi, for: animal), prompt: Text(\"What was \\(animal.name) doing at the time of nibbling?\"), axis: .vertical) {\n                    Text(\"Alibi\")\n                }\n                .lineLimit(4, reservesSpace: true)\n                if let schedule = Binding(animalStore(\\.sleepSchedule, for: animal)) {\n                    SleepScheduleView(schedule: schedule)\n                } else {\n                    Button(\"Add Sleep Schedule\") {\n                        animalStore.write(\\.sleepSchedule, value: Animal.Storage.newSleepSchedule, for: animal)\n                    }\n                }\n                Slider(\n                    value: animalStore(\\.suspiciousLevel, for: animal), in: 0...1) {\n                        Text(\"Suspicion Level\")\n                    } minimumValueLabel: {\n                        Image(systemName: \"questionmark\")\n                    } maximumValueLabel: {\n                        Image(systemName: \"exclamationmark.3\")\n                    }\n            } header: {\n                Text(\"Interview\")\n            }\n            .presentationDetents([.medium, .large])\n    }\n}\n\nprivate struct FruitList: View {\n    @Binding var selectedFruits: [Fruit]\n    var fruits: [Fruit]\n\n    var body: some View {\n        Section(\"Favorite Fruits\") {\n                ForEach(allFruits) { fruit in\n                    Toggle(isOn: .init(get: {\n                        selectedFruits.contains(fruit)\n                    }, set: { newValue in\n                        if newValue && !selectedFruits.contains(fruit) {\n                            selectedFruits.append(fruit)\n                        } else {\n                            _ = selectedFruits.firstIndex(of: fruit).map {\n                                selectedFruits.remove(at: $0)\n                            }\n                        }\n                    })) {\n                        HStack {\n                            FruitImage(fruit: fruit, size: .init(width: 40, height: 40), bordered: true)\n                            Text(fruit.name).font(.body)\n                        }\n                    }\n                }\n        }\n    }\n\n    @ViewBuilder\n    private func selectionBackground(isSelected: Bool) -> some View {\n        if isSelected {\n            RoundedRectangle(cornerRadius: 2).inset(by: -2)\n                .fill(.selection)\n        }\n    }\n}\n\nprivate struct SleepScheduleView: View {\n    @Binding var schedule: Animal.Storage.SleepSchedule\n    var body: some View {\n        DatePicker(selection: .init(get: {\n            Calendar.current.date(from: schedule.sleepTime) ?? Date()\n        }, set: { newDate in\n            schedule.sleepTime = Calendar.current.dateComponents([.hour, .minute], from: newDate)\n        }), displayedComponents: [.hourAndMinute]) {\n            Text(\"Sleep at: \")\n        }\n\n        DatePicker(selection: .init(get: {\n            Calendar.current.date(from: schedule.wakeTime) ?? Date()\n        }, set: { newDate in\n            schedule.wakeTime = Calendar.current.dateComponents([.hour, .minute], from: newDate)\n        }), displayedComponents: [.hourAndMinute]) {\n            Text(\"Awake at: \")\n        }\n    }\n}\n\nstruct AppState {\n    var selection: String? = \"Snail\"\n    var animals: [Animal] = allAnimals\n    var inspectorPresented: Bool = true\n    var inspectorWidth: CGFloat = 270\n    var cornerRadius: CGFloat? = nil\n}\n\nextension Binding where Value == AppState {\n    func binding() -> Binding<Animal>? {\n        self.projectedValue.animals.first {\n            $0.wrappedValue.id == self.selection.wrappedValue\n        }\n    }\n}\n\nextension Animal {\n    struct Storage: Codable {\n        var alibi: String = \"\"\n        var sleepSchedule: SleepSchedule? = nil\n\n        /// Value between 0 and 1 representing how suspicious the animal is.\n        /// 1 is guilty.\n        var suspiciousLevel: Double = 0.0\n\n        struct SleepSchedule: Codable {\n            var sleepTime: DateComponents\n            var wakeTime: DateComponents\n        }\n\n        static let newSleepSchedule: SleepSchedule = {\n            // Asleep at 10:30, awake at 6:30\n            .init(\n                sleepTime: DateComponents(hour: 22, minute: 30),\n                wakeTime: DateComponents(hour: 6, minute: 30))\n        }()\n    }\n\n}\n\nfinal class AnimalStore: ObservableObject {\n\n    var storage: [Animal.ID: Animal.Storage] = [:]\n\n    /// Getter for properties of an animal stored in self\n    func callAsFunction<Result>(_ keyPath: WritableKeyPath<Animal.Storage, Result>, for animal: Animal) -> Binding<Result> {\n        Binding { [self] in\n            storage[animal.id, default: .init()][keyPath: keyPath]\n        } set: { [self] newValue in\n            self.objectWillChange.send()\n            var animalStore = storage[animal.id, default: .init()]\n            animalStore[keyPath: keyPath] = newValue\n            storage[animal.id] = animalStore\n        }\n    }\n\n    func write<Value>(_ keyPath: WritableKeyPath<Animal.Storage, Value>, value: Value, for animal: Animal) {\n        objectWillChange.send()\n        var animalStore = storage[animal.id, default: .init()]\n        animalStore[keyPath: keyPath] = value\n        storage[animal.id] = animalStore\n    }\n\n    func read<Value>(_ keyPath: WritableKeyPath<Animal.Storage, Value>, for animal: Animal) -> Value {\n        storage[animal.id, default: .init()][keyPath: keyPath]\n    }\n}\n\nstruct AnimalTable: View {\n    @Binding var state: AppState\n    @EnvironmentObject private var animalStore: AnimalStore\n    @Environment(\\.horizontalSizeClass) private var sizeClass: UserInterfaceSizeClass?\n\n\n    var fruitWidth: CGFloat {\n        #if os(iOS)\n        40.0\n        #else\n        25.0\n        #endif\n    }\n\n    var body: some View {\n        Table(state.animals, selection: $state.selection) {\n            TableColumn(\"Name\") { animal in\n                HStack {\n                    Text(animal.emoji).font(.title)\n                        .padding(2)\n                        .background(.thickMaterial, in: RoundedRectangle(cornerRadius: 3))\n                    Text(animal.name + \" \" + animal.species).font(.title3)\n                }\n            }\n            TableColumn(\"Favorite Fruits\") { animal in\n                HStack {\n                    ForEach(animal.favoriteFruits.prefix(3)) { fruit in\n                        FruitImage(fruit: fruit, size: .init(width: fruitWidth, height: fruitWidth), scale: 2.0, bordered: state.selection == animal.id)\n                    }\n                }\n                .padding(3.5)\n            }\n            TableColumn(\"Suspicion Level\") { animal in\n                SuspicionTableCell(animal: animal)\n            }\n        }\n        #if os(macOS)\n        .alternatingRowBackgrounds(.disabled)\n        #endif\n        .tableStyle(.inset)\n    }\n}\n\nprivate struct SuspicionTableCell: View {\n    var animal: Animal\n    @Environment(\\.backgroundProminence) private var backgroundProminence\n    @EnvironmentObject private var animalStore: AnimalStore\n\n    var body: some View {\n        let color = SuspiciousText.model(for: animalStore.read(\\.suspiciousLevel, for: animal)).1\n        HStack {\n            Image(\n                systemName: \"cellularbars\",\n                variableValue: animalStore.read(\\.suspiciousLevel, for: animal)\n            )\n            .symbolRenderingMode(.hierarchical)\n            SuspiciousText(\n                suspiciousLevel:\n                    animalStore.read(\\.suspiciousLevel, for: animal),\n                selected: backgroundProminence == .increased)\n        }\n        .foregroundStyle(backgroundProminence == .increased ? AnyShapeStyle(.white) : AnyShapeStyle(color))\n    }\n}\n\nprivate struct SuspiciousText: View {\n    var suspiciousLevel: Double\n    var selected: Bool\n\n    static fileprivate func model(for level: Double) -> (String, Color) {\n        switch level {\n        case 0..<0.2:\n            return (\"Unlikely\", .green)\n        case 0.2..<0.5:\n            return (\"Fishy\", .mint)\n        case 0.5..<0.9:\n            return (\"Very suspicious\", .orange)\n        case 0.9...1:\n            return (\"Extremely suspicious!\", .red)\n        default:\n            return (\"Suspiciously Unsuspicious\", .blue)\n        }\n    }\n\n    var body: some View {\n        let model = Self.model(for: suspiciousLevel)\n        Text(model.0)\n            .font(.callout)\n    }\n}\n\nstruct Animal: Identifiable {\n    var name: String\n    var species: String\n    var pawSize: PawSize\n    var favoriteFruits: [Fruit]\n    var emoji: String\n\n    var id: String { species }\n}\n\nvar allAnimals: [Animal] = [\n    .init(name: \"Fabrizio\", species: \"Fish\", pawSize: .small, favoriteFruits: [.arbutusUnedo, .bigBerry, .elstar], emoji: \"ðŸŸ\"),\n    .init(name: \"Soloman\", species: \"Snail\", pawSize: .small, favoriteFruits: [.elstar, .flavorKing], emoji: \"ðŸŒ\"),\n    .init(name: \"Ding\", species: \"Dove\", pawSize: .small, favoriteFruits: [.quercusTomentella, .pinkPearlApple, .lapins], emoji: \"ðŸ•Šï¸\"),\n    .init(name: \"Catie\", species: \"Crow\", pawSize: .small, favoriteFruits: [.pinkPearlApple, .goldenNectar, .hauerPippin], emoji: \"ðŸ¦â€â¬›\"),\n    .init(name: \"Miko\", species: \"Cat\", pawSize: .small, favoriteFruits: [.belleDeBoskoop, .tompkinsKing, .lapins], emoji: \"ðŸˆ\"),\n    .init(name: \"Ricardo\", species: \"Rabbit\", pawSize: .small, favoriteFruits: [.mariposa, .elephantHeart], emoji: \"ðŸ°\"),\n    .init(name: \"Cornelius\", species: \"Duck\", pawSize: .medium, favoriteFruits: [.greenGage, .goldenNectar], emoji: \"ðŸ¦†\"),\n    .init(name: \"Maria\", species: \"Mouse\", pawSize: .small, favoriteFruits: [.arbutusUnedo, .elephantHeart], emoji: \"ðŸ¹\"),\n    .init(name: \"Haku\", species: \"Hedgehog\", pawSize: .small, favoriteFruits: [.christmasBerry, .creepingSnowberry, .goldenGem], emoji: \"ðŸ¦”\"),\n    .init(name: \"RÃ©nard\", species: \"Raccoon\", pawSize: .medium, favoriteFruits: [.belleDeBoskoop, .bigBerry, .christmasBerry, .kakiFuyu], emoji: \"ðŸ¦\")\n]\n\nenum PawSize: Hashable {\n    case small\n    case medium\n    case large\n}\n\nstruct Fruit: Identifiable, Hashable {\n    var name: String\n    var color: Color\n    var id: String { name }\n}\n\nstruct FruitImage: View {\n    var fruit: Fruit\n    var size: CGSize? = .init(width: 50, height: 50)\n    var scale: CGFloat = 1.0\n    var bordered = false\n\n    var body: some View {\n        fruit.color // Actual assets replaced with Color\n            .scaleEffect(scale)\n            .scaledToFill()\n            .frame(width: size?.width, height: size?.height)\n            .mask { RoundedRectangle(cornerRadius: 4) }\n            .overlay {\n                if bordered {\n                    RoundedRectangle(cornerRadius: 4)\n                        .stroke(fruit.color, lineWidth: 2)\n                }\n            }\n    }\n}\n\nextension Fruit {\n    static let goldenGem = Fruit(name: \"Golden Gem Apple\", color: .yellow)\n    static let flavorKing = Fruit(name: \"Flavor King Plum\", color: .purple)\n    static let mariposa = Fruit(name: \"Mariposa Plum\", color: .red)\n    static let tompkinsKing = Fruit(name: \"Tompkins King Apple\", color: .yellow)\n    static let greenGage = Fruit(name: \"Green Gage Plum\", color: .green)\n    static let lapins = Fruit(name: \"Lapins Sweet Cherry\", color: .purple)\n    static let hauerPippin = Fruit(name: \"Hauer Pippin Apple\", color: .red)\n    static let belleDeBoskoop = Fruit(name: \"Belle De Boskoop Apple\", color: .red)\n    static let elstar = Fruit(name: \"Elstar Apple\", color: .yellow)\n    static let goldenDeliciousApple = Fruit(name: \"Golden Delicious Apple\", color: .yellow)\n    static let creepingSnowberry = Fruit(name: \"Creeping Snowberry\", color: .white)\n    static let quercusTomentella = Fruit(name: \"Channel Island Oak Acorn\", color: .brown)\n    static let elephantHeart = Fruit(name: \"Elephant Heart Plum\", color: .red)\n    static let goldenNectar = Fruit(name: \"Golden Nectar Plum\", color: .yellow)\n    static let pinkPearlApple = Fruit(name: \"Pink Pearl Apple\", color: .pink)\n    static let christmasBerry = Fruit(name: \"Christmas Berry\", color: .red)\n    static let kakiFuyu = Fruit(name: \"Kaki Fuyu Persimmon\", color: .orange)\n    static let bigBerry = Fruit(name: \"Big Berry Manzanita\", color: .red)\n    static let arbutusUnedo = Fruit(name: \"Strawberry Tree\", color: .red)\n}\n\nextension Array where Element == Fruit {\n    var groupID: Fruit.ID {\n        reduce(\"\") { result, next in\n            result.appending(next.id)\n        }\n    }\n}\n\nvar allFruits: [Fruit] = [\n    .goldenGem,\n    .flavorKing,\n    .mariposa,\n    .tompkinsKing,\n    .greenGage,\n    .lapins,\n    .hauerPippin,\n    .belleDeBoskoop,\n    .elstar,\n    .goldenDeliciousApple,\n    .creepingSnowberry,\n    .quercusTomentella,\n    .elephantHeart,\n    .goldenNectar,\n    .kakiFuyu,\n    .bigBerry,\n    .arbutusUnedo,\n    .pinkPearlApple,\n]"
    },
    {
      "timestamp": "3:54",
      "title": "Xcode Previews",
      "language": "swift",
      "code": "import SwiftUI\n\n#Preview(\"Meet Inspector\", traits:\n        .fixedLayout(width: 800, height: 500)\n) {\n    ContentView()\n        .navigationTitle(\"SwiftUI Inspectors\")\n        .environmentObject(AnimalStore())\n}\n\npublic struct ContentView: View {\n    @State private var state = AppState()\n    @State private var presented = true\n\n    public var body: some View {\n        AnimalTable(state: $state)\n            .inspector(isPresented: $presented) {\n                AnimalInspectorForm(animal: $state.binding())\n                    .inspectorColumnWidth(\n                        min: 200, ideal: 300, max: 400)\n                    .toolbar {\n                        Spacer()\n                        Button {\n                            presented.toggle()\n                        } label: {\n                            Label(\"Toggle Inspector\", systemImage: \"info.circle\")\n                        }\n                    }\n            }\n    }\n}\n\nimport MapKit\n\nstruct FruitNibbleBulletin: View {\n    var fruit: Fruit = .pinkPearlApple\n    @Environment(\\.dismiss) private var dismiss\n\n    var body: some View {\n        NavigationStack {\n            ScrollView {\n                VStack(alignment: .leading) {\n                    Grid(horizontalSpacing: 12, verticalSpacing: 2) {\n                        GridRow {\n                            FruitImage(fruit: fruit, size: .init(width: 60, height: 60), bordered: false)\n\n                            Text(\"\"\"\n                            A \\(fruit.name.lowercased()) was nibbled! The bite \\\n                            happened at 9:41 AM. The nibbler left behind only \\\n                            a few seeds.\n                            \"\"\"\n                            )\n                        }\n                        GridRow {\n                            Text(\"\"\"\n                            The Fruit Inspectors were on \\\n                            the scene moments after it happened. \\\n                            Unfortunately, their efforts to catch the nibbler \\\n                            were fruitless.\n                            \"\"\").gridCellColumns(2)\n                        }\n                    }\n                    GroupBox(\"Clues\") {\n                        LabeledContent(\"Paw Size\") {\n                            Text(\"Large\")\n                        }\n                        LabeledContent(\"Favorite Fruit\") {\n                            Text(\"\\(fruit.name.capitalized(with: .current))\")\n                        }\n                        LabeledContent(\"Alibi\") {\n                            Text(\"None\")\n                        }\n                    }\n                    HStack {\n                        VStack {\n                            fruit.color\n                                .aspectRatio(contentMode: ContentMode.fit)\n                                .shadow(radius: 2.5)\n                            Text(\"The pink pearls left behind\").font(.caption)\n                                .frame(alignment: .leading)\n                        }\n                        AppleParkMap()\n                            .mask(RoundedRectangle(cornerSize: CGSize(width: 20, height: 10)))\n\n                    }\n                    Text(\"The Fruit Inspection team was on the scene minutes after the incident. However, their attempts to discover any meaningful clues around the identity of the nibbler were fruitless.\")\n                }\n                .scenePadding(.horizontal)\n                .toolbar {\n                    ToolbarItem {\n                        Button(role: .cancel) {\n                            dismiss()\n                        } label: {\n                            Label(\"Close\", systemImage: \"xmark.circle.fill\")\n                        }\n                        .symbolRenderingMode(.monochrome)\n                        .tint(.secondary)\n                    }\n                }\n            }\n#if os(iOS)\n            .navigationBarTitleDisplayMode(.inline)\n#endif\n            .navigationTitle(\"Fruit Nibble Bulletin\")\n        }\n    }\n}\n\nstruct AppleParkMap: View {\n    @State private var region = MKCoordinateRegion(\n        center: CLLocationCoordinate2D(latitude: 37.334_371,\n                                       longitude: -122.009_558),\n        latitudinalMeters: 100,\n        longitudinalMeters: 100\n    )\n\n    var body: some View {\n        GeometryReader { geometry in\n            Map(position: .constant(.automatic), bounds: .init(centerCoordinateBounds: region, minimumDistance: 100, maximumDistance: 100), interactionModes: [], scope: .none) { }\n        }\n        .frame(height: 180, alignment: .center)\n    }\n}"
    },
    {
      "timestamp": "7:14",
      "title": "Inspector content inside a navigation structure",
      "language": "swift",
      "code": "struct Example1: View {\n    @State private var state = AppState()\n\n    var body: some View {\n        NavigationStack {\n            AnimalTable(state: $state)\n                .inspector(isPresented: $state.inspectorPresented) {\n                    AnimalInspectorForm(animal: $state.binding())\n                }\n                .toolbar {\n                    Button {\n                        state.inspectorPresented.toggle()\n                    } label: {\n                        Label(\"Toggle Inspector\", systemImage: \"info.circle\")\n                    }\n                }\n        }\n    }\n}"
    },
    {
      "timestamp": "7:55",
      "title": "Inspector content outside a navigation structure",
      "language": "swift",
      "code": "struct Example2: View {\n    @State private var state = AppState()\n    \n    var body: some View {\n        NavigationStack {\n            AnimalTable(state: $state)\n        }\n        .inspector(isPresented: $state.inspectorPresented) {\n            AnimalInspectorForm(animal: $state.binding())\n                .toolbar {\n                    ToolbarItem(placement: .principal) {\n                        HStack {\n                            Button {\n                            } label: {\n                                Image(systemName: \"rectangle.and.pencil.and.ellipsis\")\n                            }\n                            Button {\n                            } label: {\n                                Image(systemName: \"pawprint.circle\")\n                            }\n                        }\n                    }\n                }\n        }\n    }\n}"
    },
    {
      "timestamp": "8:56",
      "title": "Inspector with NavigationSplitView: detail column",
      "language": "swift",
      "code": "NavigationSplitView {\n  Sidebar()\n} detail: {\n  AnimalTable()\n    .inspector(presented: $isPresented) {\n      AnimalInspectorForm()\n    }\n}"
    },
    {
      "timestamp": "9:06",
      "title": "Inspector with NavigationSplitView: Outside",
      "language": "swift",
      "code": "NavigationSplitView {\n  Sidebar()\n} detail: {\n  AnimalTable()\n}\n.inspector(presented: $isPresented) {\n  AnimalInspectorForm()\n}"
    },
    {
      "timestamp": "9:49",
      "title": "Presentation customizations",
      "language": "swift",
      "code": ".sheet(item: $nibbledFruit) { fruit in\n  FruitNibbleBulletin(fruit: fruit)\n    .presentationBackground(.thinMaterial)\n    .presentationDetents([.height(200), .medium, .large])\n    .presentationBackgroundInteraction(.enabled(upThrough: .height(200)))\n}"
    },
    {
      "timestamp": "11:58",
      "title": "Presentation customizations on Inspector",
      "language": "swift",
      "code": ".inspector(presented: $state.inspectorPresented) {\n  AnimalInspectorForm(animal: $state.binding())\n    .presentationDetents([.height(200), .medium, .large])\n    .presentationBackgroundInteraction(.enabled(upThrough: .height(200)))\n}"
    }
  ],
  "resources": {
    "resourceLinks": [
      {
        "title": "Design",
        "url": "https://developer.apple.com/design/"
      },
      {
        "title": "Documentation",
        "url": "https://developer.apple.com/documentation/"
      },
      {
        "title": "Forums",
        "url": "https://developer.apple.com/forums/"
      },
      {
        "title": "Apple Design Awards",
        "url": "https://developer.apple.com/design/awards/"
      }
    ],
    "hdVideo": "https://devstreaming-cdn.apple.com/videos/wwdc/2023/10161/4/8290EAC4-2BB0-4766-AABF-FEC196606758/downloads/wwdc2023-10161_hd.mp4?dl=1",
    "sdVideo": "https://devstreaming-cdn.apple.com/videos/wwdc/2023/10161/4/8290EAC4-2BB0-4766-AABF-FEC196606758/downloads/wwdc2023-10161_sd.mp4?dl=1"
  },
  "relatedVideos": [
    {
      "id": "10148",
      "year": "2023",
      "title": "Whatâ€™s new in SwiftUI",
      "url": "https://developer.apple.com/videos/play/wwdc2023/10148"
    }
  ],
  "extractedAt": "2025-07-18T10:21:22.900Z"
}